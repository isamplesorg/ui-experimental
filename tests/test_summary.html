<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test iSamples summary view</title>
    <link rel="stylesheet" href="../css/common.css" />
    <script type="module">
        // Import the settings and scripts
        import {settings} from "../js/settings.js";
        import {loadConfig, ISamplesApp} from '../js/isamples-app.js';
        import {ISamplesState} from '../js/isamples-state.js';
        import {ISamplesSummary} from '../js/isamples-api.js';
        import {ISamplesSummaryView} from '../js/isamples-summary.js';

        loadConfig("/local-config.json")
        .then((options) => {
            options.appName = "isamplesapp";            
            globalThis.isamplesapp = new ISamplesApp(options);
            globalThis.isamplesapp.registerComponents("isamples-summary, isamples-state");
            const sv = document.getElementById("summaryview");
            document.getElementById("queryview").addFilterSource(sv.name);
        });
    </script>
</head>
<body>
<section>
    <h1>Testing iSamples summary view</h1>
    <p>Provides a view of record counts for source x categories.</p>
    <p>Setting the global query alters the set of records for which the counts are computed.</p>
    <isamples-state id="queryview"></isamples-state>
    <isamples-summary id="summaryview" name="Summary FQ"></isamples-summary>
</section>

</body>
</html>